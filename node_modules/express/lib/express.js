// client-simulation.js

// Minimal Express-like app object
function createApplication() {
  const app = {};

  app.routes = [];

  app.get = function (path, handler) {
    app.routes.push({ method: 'GET', path, handler });
  };

  app.handle = function (path) {
    const route = app.routes.find(r => r.path === path && r.method === 'GET');
    if (route) {
      route.handler();
    } else {
      console.log('404 Not Found');
    }
  };

  return app;
}

// Simulate using it
const app = createApplication();

app.get('/', () => {
  document.body.innerHTML += '<h2>You are on the Home Page</h2>';
});

// Simulate a route "hit"
window.addEventListener('DOMContentLoaded', () => {
  app.handle('/');
});
